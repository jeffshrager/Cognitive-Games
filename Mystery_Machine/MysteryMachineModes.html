<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Mystery Machine Cheat Sheet</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; line-height: 1.5; padding: 1.5rem; max-width: 900px; margin: 0 auto; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    pre { background: #f6f8fa; padding: 0.8rem 1rem; border-radius: 6px; overflow:auto; }
    hr { border: 0; border-top: 1px solid #ddd; margin: 1.25rem 0; }
  </style>
</head>
<body>

  <h1>Mystery Machine Cheat Sheet</h1>
  <hr>

  <p><strong>ATTENTION:</strong> You must enter a mode by using the</p>

  <pre><code>mode [mode number]</code></pre>

  <p>As:</p>

  <pre><code>mode 3       [Or whatever mode number you like]</code></pre>

  <p>before anything will work. Even if you aren't going to use the <code>?</code> key (which is the only thing the mode affects) you still need to enter a mode to get started. (I recommend mode 3 because it's the simplest <code>?</code> mode, but if you're not using the <code>?</code> the mode number doesn't matter.)</p>

  <hr>

  <p>Every program in the MM language is one line long.</p>

  <p>A "step" is always two characters: a number, followed by any alphabetic character "command". For example: <code>3x</code>, <code>5-</code>, <code>6?</code> In these cases the "commands" are <code>x</code>, <code>-</code>, <code>?</code> respectively.</p>

  <p>Digits (0-9) put that number in the MM's "register". No matter how many digits you enter, the register only remembers the last one. So, for example, if your program looks like <code>12343247+</code> only the number 7 is going to be registered (that is, used).</p>

  <p>In the below, I'll use <code>#</code> to indicate a single digit or the number in the register, and <code>+</code> or <code>-</code> to indicate characters (or <code>?</code> when we're talking about loops, below).</p>

  <p>Any character other than a digit or <code>?</code> just tells the MM to print out the given character the number of times in the register.</p>

  <p>Some example simple programs (without <code>?</code>s):</p>

  <p>Input: <code>3-</code><br>
  Output: <code>---</code></p>

  <pre><code>3-4+
---++++

3-4+5x
---++++xxxxx</code></pre>

  <p><em>Again: There is only one register and it only holds one digit. So if you put multiple digits, like 53, or forget to put a digit before a command, it'll just use whatever's left in the register.</em></p>

  <p>Some example slightly confusing programs (without <code>?</code>s):</p>

  <pre><code>3-4+
---++++    [normal]

53-4+
---++++    [the 5 is overwritten by the 3, so you only get 3 minuses]

3-+
---+++     [the 3 is applied to the + also because we left out an argument for the + so it used the 3 left in the register]

+
            [no output -- no argument at all -- nothing happens!]</code></pre>

  <p>Note that although all the examples are <code>+</code> and <code>-</code>, any character other than a digit or <code>?</code> will work just as well. For example:</p>

  <pre><code>3-4+
---++++    [normal]

3x4y
xxxyyyy    [also normal!]</code></pre>

  <p>Sometimes subjects discover this on their own, but if they are getting confused counting the minuses — which are intentionally hard to count! — you might suggest using a different character that's easier to distinguish.</p>

  <p>The register is cleared at the beginning of each GO (run) so until it hits a number in reading the program, nothing at all will happen. This can be confusing.</p>

  <p>For example:</p>

  <pre><code>xyz abc 5 mno pqr
     mmmmmnnnnnooooo     pppppqqqqqrrrrr</code></pre>

  <p>[This has 5 spaces at the beginning, and then again in the middle, which are impossible to count, which is why in the instructions on the MM page is says not to use spaces!]</p>

  <hr>

  <p>The question mark (<code>?</code>) command means "repeat" (but don't tell your subjects that! :-)</p>

  <p>Different modes make the <code>?</code> do different things. See the cheat sheet below.</p>

  <p>Some common confusions:</p>
  <ul>
    <li>In some modes it's counting <em>characters</em> (as in positions in the program line), and in others it's counting <em>steps</em>, that is, 2-character pairs, like <code>4x</code>. This can get very confusing if your subject is a little confused and doesn't adhere to the standard two-character (digit and output char) format. For example, <code>3+4-</code> is "standard" and a mode that is counting steps will count these correctly, but if they did something like <code>34+</code> or <code>31-45+</code> the "step counting" modes are moving by 2 character positions, so it'll output something almost uninterpretable. (Again, this is by design!)</li>
    <li>If the subject doesn't put a number before the <code>?</code>, it will (as usual) use the last number in the register (i.e., the last digit encountered, as described above). This can get <em>very</em> confusing! For example, these two programs are equivalent in most modes: <code>3x2y2?</code> and <code>3x2y?</code>, the "2" being carried to the <code>?</code> because we didn't have a number before the "<code>?</code>". Generally you'll want to be sure that you have a number before the "<code>?</code>", because otherwise the command-counting modes (4 and 6) will do totally confusing things as they are just going by pairs of input chars. (Actually, it's totally confusing regardless ... which is, after all, the point!)</li>
  </ul>

  <p>Mode details, and some examples:</p>

  <ul>
    <li><strong>Mode 1</strong> restarts the programming counting <code>#</code> <em>characters</em> <strong>back</strong> from the <code>?</code>, and runs through <strong>once</strong> more (ignoring the <code>?</code> the second time through). To go back to the beginning, <code>#</code> would be one less than the length of the program (i.e., program length − 1). If you overshoot the beginning of the program, it just starts from the beginning. (That is, you can't overshoot the beginning, even with a large number for <code>#</code>.)</li>

    <li><strong>Mode 2</strong> restarts the program at the indicated <em>character</em> position (starting with 1). Note that if you hit a symbol instead of a number, the symbol will appear the number of times given by the number associated with the <code>?</code> This can be <em>ultra</em> confusing!</li>

    <li><strong>Mode 3</strong> just runs the whole program again once. (This is the simplest mode)</li>
  </ul>

  <p><strong>Mode 4</strong> begins again at the nth <em>step</em> (<em>not the nth character!</em>). The first step is number 1. Note that (as above) a "step" is defined as a pair of chars (like <code>3x</code>), if you do something technically incorrect, like: <code>33x</code> you'll be confused because it's just counting by twos, not really parsing for steps.</p>

  <p>You're now saying to yourself: WTF?!</p>

  <p>Okay, examples:</p>

  <pre><code>mode 4

3-4+
---++++              [the basic program we're going to use]

3-4+?1
---++++              [I did 1? instead of ?1 so it tried to go to the 4th step, but there isn't one]

3-4+1?
---++++---++++       [good, so that restarted from step 1, and we ran both steps again]

3-4+1?
---++++---++++       [just making sure it's repeatable!]

3-4+?2
---++++              [aaaa!!!!!!!!!! Oh, damn! reversed the # and ? again!]

3-4+2?
---++++++++          [That's better: Started from the second step -- actually the 3rd char, that is, the 4 -- and ran to the end]

53-4+
---++++              [recall that only one digit matters, so the 5 got overwritten by the 3]

53-4+1?
---++++---++++       [just proving to myself that this still does the right thing]

53-4+2?
---++++--++++

[Okay, so THIS is the confusing one! Because the 5 shifted everything up by one, even though it doesn't play a role in the program, the 2? asked us to start at position 3 -- that is, at the second step, which in a normal program (without the errant 5) would have been step 2 (4+, as above), but here it actually lands us at the minus! So the 2 gets carried from the ? argument and applied to the minus, so you get 2 minuses, and then the 4+ ... see, ULTRA confusing!]</code></pre>

  <ul>
    <li><strong>Mode 5</strong> runs the program through again beginning at a random character position! (NOT a random step!)</li>
    <li><strong>Mode 6</strong> is mode 4 crossed with mode 1. It restarts the program at the nth <em>step</em> (not character!) <strong>before</strong> the <code>?</code> command. (Note the ultra-confusing-ness warnings above!)</li>
  </ul>

  <p>You may wonder why the modes aren't in "simplest-to-hardest" order. That's by design so as not to give a hint to the subject about how much simpler or harder the analysis might be.</p>

</body>
</html>
